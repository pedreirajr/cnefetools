% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hex_cnefe_counts.R
\name{hex_cnefe_counts}
\alias{hex_cnefe_counts}
\title{Count CNEFE address species on an H3 grid}
\usage{
hex_cnefe_counts(
  code_muni,
  year = 2022L,
  h3_resolution = 9,
  verbose = TRUE,
  backend = c("duckdb", "r")
)
}
\arguments{
\item{code_muni}{Integer. Seven-digit IBGE municipality code.}

\item{year}{Integer. The CNEFE data year. Currently only 2022 is supported.
Defaults to 2022.}

\item{h3_resolution}{Integer. H3 grid resolution (default: 9).}

\item{verbose}{Logical; if \code{TRUE}, prints messages and timing information.}

\item{backend}{Character. \code{"duckdb"} (default) uses DuckDB H3 extension to
aggregate directly from the cached ZIP. \code{"r"} uses h3jsr in R.}
}
\value{
An \code{\link[sf:sf]{sf::sf}} object with CRS 4326 containing:
\itemize{
\item \code{id_hex}: H3 cell identifier
\item \code{addr_type1} ... \code{addr_type8}: counts per type
\item \code{geometry}: hexagon geometry
}
}
\description{
\code{hex_cnefe_counts()} reads CNEFE records for a given municipality, assigns
each address point to an H3 cell, builds the full H3 grid over the municipal
boundary (year fixed at 2024), and returns per-hexagon counts of \code{COD_ESPECIE}
as \code{addr_type1} to \code{addr_type8}.
}
\details{
The counts in the columns \code{addr_type1} to \code{addr_type8} correspond to:
\itemize{
\item \code{addr_type1}: Private household (Domicílio particular)
\item \code{addr_type2}: Collective household (Domicílio coletivo)
\item \code{addr_type3}: Agricultural establishment (Estabelecimento agropecuário)
\item \code{addr_type4}: Educational establishment (Estabelecimento de ensino)
\item \code{addr_type5}: Health establishment (Estabelecimento de saúde)
\item \code{addr_type6}: Establishment for other purposes (Estabelecimento de outras finalidades)
\item \code{addr_type7}: Building under construction or renovation (Edificação em construção ou reforma)
\item \code{addr_type8}: Religious establishment (Estabelecimento religioso)
}
}
