% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_lumi.R
\name{compute_lumi}
\alias{compute_lumi}
\title{Compute land-use mix indicators on an H3 grid}
\usage{
compute_lumi(
  code_muni,
  h3_resolution = 9,
  verbose = TRUE,
  backend = c("duckdb", "r")
)
}
\arguments{
\item{code_muni}{Integer. Seven-digit IBGE municipality code.}

\item{h3_resolution}{Integer. H3 grid resolution (default: 9).}

\item{verbose}{Logical; if \code{TRUE}, prints messages and timing information.}

\item{backend}{Character. \code{"duckdb"} (default) uses DuckDB + H3 extension
reading directly from the cached ZIP. \code{"r"} computes H3 in R using h3jsr.}
}
\value{
An \code{\link[sf:sf]{sf::sf}} object with CRS 4326 containing:
\itemize{
\item \code{id_hex}: H3 cell identifier
\item \code{p_res}: share of residential addresses in the hexagon
\item \code{ei},\code{bal}, \code{hhi}, \code{hhi_adp}, \code{bgbi}: land-use mix indicators
\item \code{geometry}: hexagon geometry
}
}
\description{
\code{compute_lumi()} reads CNEFE 2022 records for a given municipality,
assigns each address point to an H3 cell, and computes land-use mix
indices per hexagon (EI, HHI, adapted HHI, and BGBI), following the
methodology proposed in Pedreira Jr. et al. (2025).
}
\references{
Pedreira Jr., J. U.; Louro, T. V.; Assis, L. B. M.; Brito, P. L.
Measuring land use mix with address-level census data (2025).
\emph{engrXiv}. https://engrxiv.org/preprint/view/5975
}
